{% extends "base.html" %}
{% block title %}Proposal | Zyberfy{% endblock %}

{% block content %}
<div class="max-w-3xl mx-auto px-4 py-10">
  <!-- Header -->
  <div class="flex items-center justify-between mb-6">
    <h1 class="text-2xl font-bold text-gray-800">Proposal from {{ proposal.company_name }}</h1>
    <div class="flex gap-2">
      <button onclick="copyLink()" class="text-sm bg-gray-200 hover:bg-gray-300 text-gray-800 px-3 py-1 rounded">Copy Link</button>
      <button onclick="window.print()" class="text-sm bg-gray-200 hover:bg-gray-300 text-gray-800 px-3 py-1 rounded">Print</button>
    </div>
  </div>

  <!-- Proposal Content -->
  <div class="bg-white shadow rounded-lg p-6 text-gray-800 whitespace-pre-wrap leading-relaxed">
    {{ proposal.content }}
  </div>

  <!-- Footer -->
  <div class="mt-6 text-sm text-center text-gray-500">
    Generated by <strong>Zyberfy</strong> | Proposal ID: {{ proposal.id }}
  </div>
</div>
{% endblock %}

{% block scripts %}
<script>
  function copyLink() {
    const dummy = document.createElement("input");
    const text = window.location.href;
    document.body.appendChild(dummy);
    dummy.value = text;
    dummy.select();
    document.execCommand("copy");
    document.body.removeChild(dummy);
    alert("Proposal link copied to clipboard.");
  }
</script>
{% endblock %}
