{% extends "base.html" %}
{% block title %}Billing Info | Zyberfy{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto p-6">
  <h1 class="text-2xl font-bold mb-4">Billing Information</h1>

  {% if billing %}
  <div class="bg-white rounded-lg shadow p-6 mb-6">
    <h2 class="text-lg font-semibold mb-2">Current Plan</h2>
    <p class="text-xl font-bold text-blue-600">Elite - $1297/mo</p>
    <p class="text-sm text-gray-500 mt-1">Unlimited access to automation, analytics, and follow-ups</p>
  </div>

  <div class="bg-white rounded-lg shadow p-6 mb-6">
    <h2 class="text-lg font-semibold mb-2">Usage</h2>
    <p class="text-base text-gray-700">Proposals Used: <span class="font-semibold">{{ proposal_count }} / 3</span></p>
  </div>

  <div class="bg-white rounded-lg shadow p-6 mb-6">
    <h2 class="text-lg font-semibold mb-2">Renewal Date</h2>
    <p class="text-base text-gray-700">Your plan renews on <span class="font-semibold">{{ billing.renewal_date }}</span></p>
  </div>

  <div class="text-center">
    <a href="{{ url_for('billing_portal') }}" class="inline-block bg-blue-600 hover:bg-blue-700 text-white font-semibold px-5 py-3 rounded-lg shadow">
      Manage Billing in Stripe
    </a>
  </div>

  {% else %}
  <div class="bg-red-100 text-red-700 p-4 rounded text-center">
    <p>No active subscription found. Please <a href="{{ url_for('memberships') }}" class="underline">select a plan</a>.</p>
  </div>
  {% endif %}
</div>
{% endblock %}
